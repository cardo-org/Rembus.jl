<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Rembus.jl</title><meta name="title" content="Home · Rembus.jl"/><meta property="og:title" content="Home · Rembus.jl"/><meta property="twitter:title" content="Home · Rembus.jl"/><meta name="description" content="Documentation for Rembus.jl."/><meta property="og:description" content="Documentation for Rembus.jl."/><meta property="twitter:description" content="Documentation for Rembus.jl."/><meta property="og:url" content="https://cardo-org.github.io/Rembus.jl/"/><meta property="twitter:url" content="https://cardo-org.github.io/Rembus.jl/"/><link rel="canonical" href="https://cardo-org.github.io/Rembus.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Rembus.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Broker"><span>Broker</span></a></li><li><a class="tocitem" href="#Component"><span>Component</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="api/">Component API</a></li><li><a class="tocitem" href="macro_api/">Macro-based API</a></li><li><a class="tocitem" href="http_api/">HTTP Rest API</a></li><li><a class="tocitem" href="brokerless/">Client-Server</a></li><li><a class="tocitem" href="fault_tolerance/">Fault-tolerance features</a></li><li><a class="tocitem" href="security/">Security</a></li><li><a class="tocitem" href="configuration/">Configuration</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cardo-org/Rembus.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cardo-org/Rembus.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Rembus"><a class="docs-heading-anchor" href="#Rembus">Rembus</a><a id="Rembus-1"></a><a class="docs-heading-anchor-permalink" href="#Rembus" title="Permalink"></a></h1><p>Rembus is a middleware for Pub/Sub and RPC communication styles.</p><p>A Rembus node may play one o more roles: </p><ul><li>RPC client</li><li>RPC server</li><li>Pub/Sub publisher </li><li>Pub/Sub subscriber</li><li>Broker</li></ul><p>This meshup of roles enables a to implements a set of distributed architectures. </p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Rembus&quot;)</code></pre><h2 id="Broker"><a class="docs-heading-anchor" href="#Broker">Broker</a><a id="Broker-1"></a><a class="docs-heading-anchor-permalink" href="#Broker" title="Permalink"></a></h2><p>A <code>Broker</code> is a process that routes messages between components.</p><p>A <code>Broker</code> is capable of making components that use different transport protocols talk to each other. For example a component that uses a ZeroMQ socket may talk to a component that uses the WebSocket protocol.</p><p>Starting a <code>Broker</code> is simple as:</p><pre><code class="language-julia hljs">using Rembus

broker()</code></pre><p>Calling <code>broker</code> without arguments start by default a WebSocket server listening on port 8000.</p><p>A startup script could be useful and the following <code>broker</code> script will do:</p><pre><code class="language-julia hljs">#!/bin/bash
#=
SDIR=$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )
BINDIR=$( cd -- $SDIR &amp;&gt; /dev/null &amp;&amp; pwd )
exec julia -t auto --color=no -e &quot;include(popfirst!(ARGS))&quot; \
 --project=$BINDIR/.. --startup-file=no &quot;${BASH_SOURCE[0]}&quot; &quot;$@&quot;
=#
using ArgParse
using Rembus

function command_line(default_name=&quot;broker&quot;)
    s = ArgParseSettings()
    @add_arg_table! s begin
        &quot;--name&quot;, &quot;-n&quot;
        help = &quot;broker name&quot;
        default = default_name
        arg_type = String
        &quot;--reset&quot;, &quot;-r&quot;
        help = &quot;factory reset, clean up broker configuration&quot;
        action = :store_true
        &quot;--secure&quot;, &quot;-s&quot;
        help = &quot;accept wss and tls connections&quot;
        action = :store_true
        &quot;--authenticated&quot;, &quot;-a&quot;
        help = &quot;only authenticated components allowed&quot;
        action = :store_true
        &quot;--http&quot;, &quot;-p&quot;
        help = &quot;accept HTTP clients on port HTTP&quot;
        arg_type = UInt16
        &quot;--prometheus&quot;, &quot;-m&quot;
        help = &quot;prometheus exposer port&quot;
        arg_type = UInt16
        &quot;--ws&quot;, &quot;-w&quot;
        help = &quot;accept WebSocket clients on port WS&quot;
        arg_type = UInt16
        &quot;--tcp&quot;, &quot;-t&quot;
        help = &quot;accept tcp clients on port TCP&quot;
        arg_type = UInt16
        &quot;--zmq&quot;, &quot;-z&quot;
        help = &quot;accept zmq clients on port ZMQ&quot;
        arg_type = UInt16
        &quot;--policy&quot;
        help = &quot;set the broker routing policy&quot;
        arg_type = Symbol
        &quot;--debug&quot;, &quot;-d&quot;
        help = &quot;enable debug logs&quot;
        action = :store_true
        &quot;--info&quot;, &quot;-i&quot;
        help = &quot;enable info logs&quot;
        action = :store_true
    end
    return parse_args(s)
end

args = command_line()
name = args[&quot;name&quot;]
if args[&quot;reset&quot;]
    Rembus.broker_reset(name)
end

if args[&quot;debug&quot;]
    Rembus.debug!()
elseif args[&quot;info&quot;]
    Rembus.info!()
end

wait(Rembus.broker(
    name=name,
    ws=args[&quot;ws&quot;],
    tcp=args[&quot;tcp&quot;],
    zmq=args[&quot;zmq&quot;],
    prometheus=args[&quot;prometheus&quot;],
    authenticated=args[&quot;authenticated&quot;]
))
</code></pre><p><code>broker</code> starts by default a WebSocket server listening on port 8000, for enabling <code>tcp</code> and/or <code>zmq</code> transports use the appropriate arguments:</p><pre><code class="language-text hljs">shell&gt; ./broker
usage: broker [-r] [-s] [-p HTTP] [-w WS] [-t TCP] [-z ZMQ] [-d] [-h]

optional arguments:
  -r, --reset      factory reset, clean up broker configuration
  -s, --secure     accept wss and tls connections
  -p, --http HTTP  accept HTTP clients on port HTTP (type: UInt16)
  -w, --ws WS      accept WebSocket clients on port WS (type: UInt16)
  -t, --tcp TCP    accept tcp clients on port TCP (type: UInt16)
  -z, --zmq ZMQ    accept zmq clients on port ZMQ (type: UInt16)
  -d, --debug      enable debug logs
  -h, --help       show this help message and exit</code></pre><p>See <a href="configuration/#Broker-environment-variables">Broker environment variables</a> for customizing the runtime setting.  </p><h2 id="Component"><a class="docs-heading-anchor" href="#Component">Component</a><a id="Component-1"></a><a class="docs-heading-anchor-permalink" href="#Component" title="Permalink"></a></h2><p>A <code>Component</code> is a process that plays one or more of the following roles:</p><ul><li>Publisher (Pub/Sub) : produce messages;</li><li>Subscriber (Pub/Sub): consume published messages;</li><li>Requestor (RPC): request a service;</li><li>Exposer (RPC): execute a service request and give back a response;</li></ul><p>There are three type of components:</p><ul><li>Anonymous</li><li>Named</li><li>Authenticated</li></ul><p>An <code>Anonymous</code> component assume a random and ephemeral identity each time it connects to the broker. Example usage for anonymous components may be:</p><ul><li>when it is not required to trace the originating source of messages;</li><li>for a <code>Subscriber</code> not interested to receive messages published when it was offline;</li><li>for preliminary prototyping;</li></ul><p>A <code>Named</code> component has a unique and persistent name that make possible to receive messages published when the component was offline.</p><p>An <code>Authenticated</code> component is a named component that own a private key or a shared secret which can prove its identity.</p><p>Only authenticated components may use Pub/Sub private topics and private RPC methods.</p><p>An URL string defines the identity and the connection parameters of a component. The <a href="macro_api/#component">Macro-based API</a> page documents the URL format.</p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Rembus.Node"><code>Rembus.Node</code></a></li><li><a href="#Rembus.RembusTimeout"><code>Rembus.RembusTimeout</code></a></li><li><a href="#Rembus.RpcMethodException"><code>Rembus.RpcMethodException</code></a></li><li><a href="#Rembus.RpcMethodLoopback"><code>Rembus.RpcMethodLoopback</code></a></li><li><a href="#Rembus.RpcMethodNotFound"><code>Rembus.RpcMethodNotFound</code></a></li><li><a href="#Rembus.RpcMethodUnavailable"><code>Rembus.RpcMethodUnavailable</code></a></li><li><a href="#Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.authorize</code></a></li><li><a href="#Rembus.broker-Tuple{}"><code>Rembus.broker</code></a></li><li><a href="#Rembus.component-Tuple{Vector}"><code>Rembus.component</code></a></li><li><a href="#Rembus.component-Tuple{AbstractString}"><code>Rembus.component</code></a></li><li><a href="#Rembus.do_connect-Tuple{Rembus.Twin}"><code>Rembus.do_connect</code></a></li><li><a href="#Rembus.get_private_topics-Tuple{Rembus.Twin}"><code>Rembus.get_private_topics</code></a></li><li><a href="#Rembus.inject"><code>Rembus.inject</code></a></li><li><a href="#Rembus.isauthenticated-Tuple{Rembus.Twin}"><code>Rembus.isauthenticated</code></a></li><li><a href="#Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.private_topic</code></a></li><li><a href="#Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.public_topic</code></a></li><li><a href="#Rembus.register-Tuple{AbstractString, AbstractString}"><code>Rembus.register</code></a></li><li><a href="#Rembus.server-Tuple{}"><code>Rembus.server</code></a></li><li><a href="#Rembus.start_broker-Tuple{Any}"><code>Rembus.start_broker</code></a></li><li><a href="#Rembus.tid-Tuple{Rembus.Twin}"><code>Rembus.tid</code></a></li><li><a href="#Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.unauthorize</code></a></li><li><a href="#Rembus.unregister-Tuple{Rembus.Twin}"><code>Rembus.unregister</code></a></li><li><a href="#Rembus.@component-Tuple{Any}"><code>Rembus.@component</code></a></li><li><a href="#Rembus.@expose-Tuple{Expr}"><code>Rembus.@expose</code></a></li><li><a href="#Rembus.@expose-Tuple{Symbol}"><code>Rembus.@expose</code></a></li><li><a href="#Rembus.@inject-Tuple{Any}"><code>Rembus.@inject</code></a></li><li><a href="#Rembus.@publish"><code>Rembus.@publish</code></a></li><li><a href="#Rembus.@reactive"><code>Rembus.@reactive</code></a></li><li><a href="#Rembus.@rpc-Tuple{Any}"><code>Rembus.@rpc</code></a></li><li><a href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a></li><li><a href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a></li><li><a href="#Rembus.@unexpose-Tuple{Any}"><code>Rembus.@unexpose</code></a></li><li><a href="#Rembus.@unreactive-Tuple{}"><code>Rembus.@unreactive</code></a></li><li><a href="#Rembus.@unsubscribe-Tuple{Any}"><code>Rembus.@unsubscribe</code></a></li><li><a href="#Rembus.@wait-Tuple{}"><code>Rembus.@wait</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.Node" href="#Rembus.Node"><code>Rembus.Node</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A component of the Rembus network.</p><p>If port is equal to zero the node is not eligible to become a broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RembusTimeout" href="#Rembus.RembusTimeout"><code>Rembus.RembusTimeout</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RembusTimeout</code></pre><p>Thrown when a response it is not received.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodException" href="#Rembus.RpcMethodException"><code>Rembus.RpcMethodException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RpcMethodException</code></pre><p>Thrown when a RPC method throws an exception.</p><p><strong>Fields</strong></p><ul><li><p><code>topic</code>: service name</p></li><li><p><code>reason</code>: remote exception description</p></li></ul><p><strong>Exposer</strong></p><pre><code class="language-julia hljs">@expose foo(name::AbstractString) = &quot;hello &quot; * name</code></pre><p><strong>RPC client</strong></p><pre><code class="language-julia hljs">try
    @rpc foo(1)
catch e
    @error e.reason
end</code></pre><p>Output:</p><pre><code class="nohighlight hljs">┌ Error: MethodError: no method matching foo(::UInt64)
│
│ Closest candidates are:
│   foo(!Matched::AbstractString)
│    @ Main REPL[2]:1
└ @ Main REPL</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L78-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodLoopback" href="#Rembus.RpcMethodLoopback"><code>Rembus.RpcMethodLoopback</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RpcMethodLoopback</code></pre><p>Thrown when a RPC request would invoke a locally exposed method.</p><p><strong>Fields</strong></p><ul><li><code>topic</code>: service name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L65-L72">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodNotFound" href="#Rembus.RpcMethodNotFound"><code>Rembus.RpcMethodNotFound</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>RpcMethodNotFound</code> is thrown from a rpc request when the called method is unknown.</p><p>fields:</p><ul><li><code>topic</code>: service name</li></ul><p><strong>RPC Client</strong></p><pre><code class="language-julia hljs">@rpc coolservice()</code></pre><p>Output:</p><pre><code class="nohighlight hljs">ERROR: Rembus.RpcMethodNotFound(&quot;rembus&quot;, &quot;coolservice&quot;)
Stacktrace:
...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L27-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodUnavailable" href="#Rembus.RpcMethodUnavailable"><code>Rembus.RpcMethodUnavailable</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RpcMethodUnavailable</code></pre><p>Thrown when a RPC method is unavailable.</p><p>A method is considered unavailable when some component that exposed the method is currently disconnected from the broker.</p><p><strong>Fields</strong></p><ul><li><code>topic</code>: service name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L49-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}" href="#Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.authorize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function authorize(twin::Twin, client::AbstractString, topic::AbstractString)</code></pre><p>Authorize the <code>client</code> component to use the private <code>topic</code>.</p><p>The component must have the admin role for granting topic accessibility.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L319-L325">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.broker-Tuple{}" href="#Rembus.broker-Tuple{}"><code>Rembus.broker</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">broker(; &lt;keyword arguments&gt;)</code></pre><p>Start a broker node and return a handle for interacting with it.</p><p>The broker acts as a central node to manage routing of RPC requests and Pub/Sub messages between nodes.</p><p>It supports multiple communication protocols (WebSocket, TCP, and ZMQ) and allows for customizable security, authentication, and routing policies.</p><p><strong>Keyword arguments</strong></p><ul><li><code>name::AbstractString=&quot;broker&quot;</code>: The unique identifier for the broker supervisor process.</li><li><code>ws=nothing</code>: The WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</li><li><code>tcp=nothing</code>: The TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</li><li><code>zmq=nothing</code>: The ZMQ Router listening port. Set to <code>nothing</code> to disable.</li><li><code>prometheus=nothing</code>: The Prometheus port for scraping monitoring metrics. Set to <code>nothing</code> to disable.</li><li><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</li><li><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</li><li><code>policy::String=&quot;first_up&quot;</code>: The routing policy used when topics are served by multiple  nodes. Possible options include:<ul><li><code>&quot;first_up&quot;</code>: Selects the first connected node from the list of nodes exposing the RPC method.</li><li><code>&quot;round_robin&quot;</code>: Distributes requests evenly across nodes in a round-robin fashion.</li><li><code>&quot;less_busy&quot;</code>: Chooses the node with fewer outstanding requests.</li></ul></li></ul><p><strong>Default Behavior</strong></p><p>If <code>ws</code>, <code>tcp</code>, and <code>zmq</code> are all set to <code>nothing</code>, the broker will default to listening for WebSocket connections on port <code>8000</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L7-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.component-Tuple{AbstractString}" href="#Rembus.component-Tuple{AbstractString}"><code>Rembus.component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">component(url::AbstractString; &lt;keyword arguments&gt;)</code></pre><p>Start a component node and return a handle for interacting with it.</p><p>The component connects to a remote node using the <code>url</code> argument, which specifies the connection details. For example, the URL <code>ws://127.0.0.1:8000/foo</code> specifies:</p><ul><li><strong>Protocol</strong>: <code>ws</code> (WebSocket). Other supported protocols: <code>wss</code>, <code>tcp</code>, <code>tls</code>, <code>zmq</code>.</li><li><strong>Address</strong>: <code>127.0.0.1</code> (localhost).</li><li><strong>Port</strong>: <code>8000</code>.</li><li><strong>Component Name</strong>: <code>foo</code>.</li></ul><p>Anonymous connections omit the path part of the URL.</p><p>If not specified, Rembus considers the above values as the default values.</p><p>This means the URL <code>ws://127.0.0.1:8000/foo</code> is equivalent to simply <code>foo</code>.</p><p>Additionally, a component may listen for incoming connections on configured ports, enabling it to act as a broker. These ports are specified using keyword arguments.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>name::Union{Missing, AbstractString}=missing</code>: Unique identifier for the component&#39;s supervisor process. Defaults to the path part of the <code>url</code> argument if <code>missing</code>.</li><li><code>ws=nothing</code>: WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</li><li><code>tcp=nothing</code>: TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</li><li><code>zmq=nothing</code>: ZMQ Router listening port. Set to <code>nothing</code> to disable.</li><li><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</li><li><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</li><li><code>policy::String=&quot;first_up&quot;</code>: The routing policy used when topics are served by multiple  nodes. Possible options include:<ul><li><code>&quot;first_up&quot;</code>: Selects the first connected node from the list of nodes exposing the RPC method.</li><li><code>&quot;round_robin&quot;</code>: Distributes requests evenly across nodes in a round-robin fashion.</li><li><code>&quot;less_busy&quot;</code>: Chooses the node with fewer outstanding requests.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L121-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.component-Tuple{Vector}" href="#Rembus.component-Tuple{Vector}"><code>Rembus.component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">component(urls::Vector)</code></pre><p>Connect component to nodes defined be <code>urls</code> array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/twin.jl#L332-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.do_connect-Tuple{Rembus.Twin}" href="#Rembus.do_connect-Tuple{Rembus.Twin}"><code>Rembus.do_connect</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">do_connect(twin::Twin)</code></pre><p>Connect anonymously to the endpoint declared with <code>REMBUS_BASE_URL</code> env variable.</p><p><code>REMBUS_BASE_URL</code> default to <code>ws://127.0.0.1:8000</code></p><p>A component is considered anonymous when a different and random UUID is used as component identifier each time the application connect to the broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/twin.jl#L547-L556">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.get_private_topics-Tuple{Rembus.Twin}" href="#Rembus.get_private_topics-Tuple{Rembus.Twin}"><code>Rembus.get_private_topics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_private_topics(twin::Twin)</code></pre><p>Get the components bound to private topics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L367-L371">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.inject" href="#Rembus.inject"><code>Rembus.inject</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inject(twin::Twin, ctx)</code></pre><p>Bind a <code>ctx</code> context object to the <code>twin</code> component.</p><p>When a <code>ctx</code> context object is bound then it will be the first argument of subscribed and exposed methods.</p><p>See <a href="#Rembus.@inject-Tuple{Any}"><code>@inject</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L197-L206">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.isauthenticated-Tuple{Rembus.Twin}" href="#Rembus.isauthenticated-Tuple{Rembus.Twin}"><code>Rembus.isauthenticated</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isauthenticated(twin::Twin)</code></pre><p>Return true if the component is authenticated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/twin.jl#L839-L843">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.private_topic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">private_topic(twin::Twin, topic::AbstractString)</code></pre><p>Set the <code>topic</code> to private.</p><p>The component must have the admin role for changing the privateness level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L343-L349">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.public_topic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">public_topic(twin::Twin, topic::AbstractString)</code></pre><p>Set the <code>topic</code> to public.</p><p>The component must have the admin role for changing the privateness level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L355-L361">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.register-Tuple{AbstractString, AbstractString}" href="#Rembus.register-Tuple{AbstractString, AbstractString}"><code>Rembus.register</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">register(
    cid::AbstractString,
    pin::AbstractString;
    tenant=Union{Nothing, AbstractString} = nothing,
    scheme::UInt8
)</code></pre><p>Register the component with name <code>cid</code>.</p><p>To register a component a single <code>pin</code> or a set of tenants must be configured in the <code>tenants.json</code> file.</p><p>The <code>pin</code> shared secret is a 8 hex digits string (for example &quot;deedbeef&quot;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/register.jl#L30-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.server-Tuple{}" href="#Rembus.server-Tuple{}"><code>Rembus.server</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">server(; &lt;keyword arguments&gt;)</code></pre><p>Start a server node and return a handle for interacting with it.</p><p>The server accepts connection from client nodes.</p><p>It supports multiple communication protocols (WebSocket, TCP, and ZMQ) and allows for customizable security and authentication.</p><p><strong>Keyword arguments</strong></p><ul><li><code>name::AbstractString=&quot;broker&quot;</code>: The unique identifier for the server supervisor process.</li><li><code>ws=nothing</code>: The WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</li><li><code>tcp=nothing</code>: The TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</li><li><code>zmq=nothing</code>: The ZMQ Router listening port. Set to <code>nothing</code> to disable.</li><li><code>prometheus=nothing</code>: The Prometheus port for scraping monitoring metrics. Set to <code>nothing</code> to disable.</li><li><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</li><li><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</li></ul><p><strong>Default Behavior</strong></p><p>If <code>ws</code>, <code>tcp</code>, and <code>zmq</code> are all set to <code>nothing</code>, the broker will default to listening for WebSocket connections on port <code>8000</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L68-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.start_broker-Tuple{Any}" href="#Rembus.start_broker-Tuple{Any}"><code>Rembus.start_broker</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">start_broker(;
    wait=true,
    secure=nothing,
    ws=nothing,
    tcp=nothing,
    zmq=nothing,
    http=nothing,
    prometheus=nothing,
    name=&quot;broker&quot;,
    authenticated=false,
    reset=nothing,
    plugin=nothing,
    context=nothing
)</code></pre><p>Start the node.</p><p>Return immediately when <code>wait</code> is false, otherwise blocks until shutdown is requested.</p><p>Overwrite command line arguments if args is not empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/broker.jl#L761-L782">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.tid-Tuple{Rembus.Twin}" href="#Rembus.tid-Tuple{Rembus.Twin}"><code>Rembus.tid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>twin unique identifier</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/types.jl#L566">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}" href="#Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.unauthorize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function unauthorize(twin::Twin, client::AbstractString, topic::AbstractString)</code></pre><p>Revoke authorization to the <code>client</code> component for use of the private <code>topic</code>.</p><p>The component must have the admin role for revoking topic accessibility.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L331-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unregister-Tuple{Rembus.Twin}" href="#Rembus.unregister-Tuple{Rembus.Twin}"><code>Rembus.unregister</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unregister(twin)</code></pre><p>Unregister the connected component.</p><p>Only a connected and authenticated component may execute the unregister command.</p><pre><code class="nohighlight hljs">using Rembus

twin = connect(&quot;authenticated_component&quot;)
Rembus.unregister(twin)
close(twin)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/register.jl#L90-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@component-Tuple{Any}" href="#Rembus.@component-Tuple{Any}"><code>Rembus.@component</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@component &quot;url&quot;</code></pre><p>Set the name of the component and the protocol for connecting to the broker.</p><p><code>url</code> may be:</p><ul><li>&quot;myname&quot;: use <span>$</span>REMBUS_BASE_URL for connection parameters</li><li>&quot;tcp://host:port/myname&quot;: tcp connection</li><li>&quot;ws://host:port/myname&quot;: web socket connection</li><li>&quot;zmq://host:port/myname&quot;: ZeroMQ connection</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L819-L830">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@expose-Tuple{Expr}" href="#Rembus.@expose-Tuple{Expr}"><code>Rembus.@expose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@expose function fn(arg1,...)
    ...
end</code></pre><p>Expose the function expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L656-L662">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@expose-Tuple{Symbol}" href="#Rembus.@expose-Tuple{Symbol}"><code>Rembus.@expose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@expose fn</code></pre><p>Expose all the methods of the function <code>fn</code>.</p><p><strong>Example</strong></p><p>Expose the function <code>mycalc</code> that implements a service that may accept two numbers or a string and number:</p><pre><code class="language-julia hljs">mycalc(x::Number, y::Number) = x+y
mycalc(x::String, y::Number) = length(x)*y

@expose mycalc</code></pre><p>Call <code>mycal</code> service using the correct types of arguments:</p><pre><code class="language-julia hljs"># ok
julia&gt; response = @rpc mycalc(1,2)
0x0000000000000003

# ok
julia&gt; response = @rpc mycalc(&quot;hello&quot;,2.0)
10.0</code></pre><p>If the RPC client call <code>mycalc</code> with the argument&#39;s type that do not respect the signatures of the exposed service then it throws <a href="#Rembus.RpcMethodException"><code>RpcMethodException</code></a></p><pre><code class="language-julia hljs">julia&gt; response = @rpc mycalc(&quot;hello&quot;,&quot;world&quot;)
ERROR: RpcMethodException(&quot;rembus&quot;, &quot;mycalc&quot;, &quot;MethodError: no method matching mycalc(::String, ::String) ...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L610-L646">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@inject-Tuple{Any}" href="#Rembus.@inject-Tuple{Any}"><code>Rembus.@inject</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> @inject container</code></pre><p>Bind a <code>container</code> object that is passed as the first argument of the subscribed component functions.</p><p>The <code>container</code> is useful for mantaining a state.</p><pre><code class="language-julia hljs">using Rembus

# keep the number of processed messages
mutable struct Context
    msgcount::UInt
end

function topic(context::Context, arg1, arg2)
    context.msgcount += 1
    some_logic(arg1, arg2)
end

ctx = Context(0)
@subscribe topic
@inject ctx</code></pre><p>Using <code>@inject</code> to set a <code>container</code> object means that if some component <code>publish topic(arg1,arg2)</code> then the method <code>foo(container,arg2,arg2)</code> will be called.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L780-L809">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@publish" href="#Rembus.@publish"><code>Rembus.@publish</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@publish topic(arg1,arg2,...)</code></pre><p>Publish a message to <code>topic</code> logic channel.</p><p>The function <code>topic(arg1,arg2,...)</code> will be called on each connected component subscribed to <code>topic</code>.</p><p><strong>Publisher</strong></p><pre><code class="language-julia hljs">@publish foo(&quot;gfr&quot;, 54.2)</code></pre><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function foo(name, value)
    println(&quot;do something with $name=$value&quot;)
end

@subscribe foo
@reactive

supervise()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L496-L520">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@reactive" href="#Rembus.@reactive"><code>Rembus.@reactive</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@reactive</code></pre><p>The subscribed methods start to handle published messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L753-L757">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@rpc-Tuple{Any}" href="#Rembus.@rpc-Tuple{Any}"><code>Rembus.@rpc</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@rpc service(arg1,...)</code></pre><p>Call the remote <code>service</code> method and return its outcome.</p><p>The outcome may be the a return value or a <a href="#Rembus.RpcMethodException"><code>RpcMethodException</code></a> if the remote throws an exception.</p><p>The <code>service</code> method must match the signature of an exposed remote <code>service</code> method.</p><p>Components may subscribe to <code>service</code> for receiving the <code>service</code> request.</p><p><strong>Exposer</strong></p><pre><code class="language-julia hljs">function mymethod(x, y)
    return evaluate(x,y)
end

@expose mymethod
supervise()</code></pre><p><strong>RPC client</strong></p><pre><code class="language-julia hljs">response = @rpc mymethod(x,y)</code></pre><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function service(x, y)
    ...
end

@subscribe service
@reactive

supervise()
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L538-L577">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@subscribe" href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@subscribe topic [mode]</code></pre><p>Setup a subscription to <code>topic</code> logic channel to handle messages from <a href="#Rembus.@publish"><code>@publish</code></a> or <a href="#Rembus.@rpc-Tuple{Any}"><code>@rpc</code></a>.</p><p><code>mode</code> values`:</p><ul><li><code>from_now</code> (default): receive messages published from now.</li><li><code>before_now</code>: receive messages published when the component was offline.</li></ul><p>Messages starts to be delivered to <code>topic</code> when reactivity is enabled with <code>@reactive</code> macro.</p><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function foo(arg1, arg2)
    ...
end

@subscribe foo
@reactive

supervise()</code></pre><p><strong>Publisher</strong></p><pre><code class="language-julia hljs">@publish foo(&quot;gfr&quot;, 54.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L686-L715">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@subscribe" href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@subscribe function fn(args...)
    ...
end [mode]</code></pre><p>Subscribe the function expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L723-L729">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unexpose-Tuple{Any}" href="#Rembus.@unexpose-Tuple{Any}"><code>Rembus.@unexpose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unexpose fn</code></pre><p>The methods of <code>fn</code> function is no more available to rpc clients.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L672-L676">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unreactive-Tuple{}" href="#Rembus.@unreactive-Tuple{}"><code>Rembus.@unreactive</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unreactive</code></pre><p>The subscribed methods stop to handle published messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L767-L771">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unsubscribe-Tuple{Any}" href="#Rembus.@unsubscribe-Tuple{Any}"><code>Rembus.@unsubscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unsubscribe mytopic</code></pre><p><code>mytopic</code>&#39;s methods stop to handle messages published to topic <code>mytopic</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L739-L743">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@wait-Tuple{}" href="#Rembus.@wait-Tuple{}"><code>Rembus.@wait</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@wait</code></pre><p>Block forever waiting for Ctrl-C/InterruptException or root supervisor shutdown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/19160052b044cc40bc414308f1e0101d1acbe211/src/api.jl#L839-L843">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">Component API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Thursday 20 March 2025 17:08">Thursday 20 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
