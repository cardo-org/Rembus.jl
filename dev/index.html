<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Rembus.jl</title><meta name="title" content="Home · Rembus.jl"/><meta property="og:title" content="Home · Rembus.jl"/><meta property="twitter:title" content="Home · Rembus.jl"/><meta name="description" content="Documentation for Rembus.jl."/><meta property="og:description" content="Documentation for Rembus.jl."/><meta property="twitter:description" content="Documentation for Rembus.jl."/><meta property="og:url" content="https://cardo-org.github.io/Rembus.jl/"/><meta property="twitter:url" content="https://cardo-org.github.io/Rembus.jl/"/><link rel="canonical" href="https://cardo-org.github.io/Rembus.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Rembus.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Broker"><span>Broker</span></a></li><li><a class="tocitem" href="#Component"><span>Component</span></a></li><li><a class="tocitem" href="#Server"><span>Server</span></a></li><li><a class="tocitem" href="#A-Simple-Broker-Script"><span>A Simple Broker Script</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li></ul></li><li><a class="tocitem" href="api/">Component API</a></li><li><a class="tocitem" href="macro_api/">Macro-based API</a></li><li><a class="tocitem" href="http_api/">HTTP Rest API</a></li><li><a class="tocitem" href="brokerless/">Client-Server</a></li><li><a class="tocitem" href="fault_tolerance/">Fault-tolerance features</a></li><li><a class="tocitem" href="security/">Security</a></li><li><a class="tocitem" href="configuration/">Configuration</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cardo-org/Rembus.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cardo-org/Rembus.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Rembus"><a class="docs-heading-anchor" href="#Rembus">Rembus</a><a id="Rembus-1"></a><a class="docs-heading-anchor-permalink" href="#Rembus" title="Permalink"></a></h1><p>Rembus is a Julia package designed for building distributed applications using both Publish/Subscribe (Pub/Sub) and Remote Procedure Call (RPC) communication patterns. </p><p>A key distinguishing feature of Rembus is its highly flexible role system, allowing a single application to act as a client, server, publisher, subscriber, and even a message broker concurrently.</p><p>This unique capability enables the implementation of a wide range of distributed architectures.</p><p><strong>Key Features:</strong></p><ul><li>Support multiple transport protocol: WebSocket, TCP, and ZeroMQ.</li><li>Efficient CBOR encoding for primitive types.</li><li>Optimized Arrow Table Format for encodings DataFrames.</li></ul><p><strong>Application Roles:</strong></p><p>An application utilizing Rembus can assume one or more of the following roles:</p><ul><li><strong>RPC Client (Requestor):</strong> Initiates requests for services from other components.</li><li><strong>RPC Server (Exposer):</strong> Provides and executes services in response to requests.</li><li><strong>Pub/Sub Publisher:</strong> Produces and disseminates messages to interested subscribers.</li><li><strong>Pub/Sub Subscriber:</strong> Consumes messages published on specific topics.</li><li><strong>Broker:</strong> Routes messages between connected components, potentially across different transport protocols.</li><li><strong>Broker and Component:</strong> Combines the routing capabilities of a broker with the application logic of a component.</li><li><strong>Server:</strong> Accepts connections from clients but does not route messages between them in the same way a broker does.</li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;Rembus&quot;)</code></pre><h2 id="Broker"><a class="docs-heading-anchor" href="#Broker">Broker</a><a id="Broker-1"></a><a class="docs-heading-anchor-permalink" href="#Broker" title="Permalink"></a></h2><p>A Rembus Broker acts as a central message router, facilitating communication between components. Importantly, a Broker can bridge components using different transport protocols (e.g., a ZeroMQ component can communicate with a WebSocket component).</p><p>Starting a basic WebSocket Broker:</p><pre><code class="language-julia hljs">using Rembus

component() # Starts a WebSocket server listening on port 8000</code></pre><p>The connection point for this broker is <code>ws://host:8000</code>.</p><p>A Broker can also function as a Component, connecting to another broker while simultaneously acting as a local broker:</p><pre><code class="language-julia hljs">using Rembus
rb = component(&quot;ws://myhost:8000/mynode&quot;, ws=9000)</code></pre><p>Here, the <code>mynode</code> component connects to the broker at <code>myhost:8000</code> and also acts as a broker, accepting WebSocket connections on port <code>9000</code> and routing messages between its connected components.</p><h2 id="Component"><a class="docs-heading-anchor" href="#Component">Component</a><a id="Component-1"></a><a class="docs-heading-anchor-permalink" href="#Component" title="Permalink"></a></h2><p>A Rembus Component is a process that embodies one or more of the communication roles (Publisher, Subscriber, Requestor, Exposer). To connect to a broker, a component uses a URL with the broker&#39;s connection point and a unique component identifier:</p><pre><code class="language-julia hljs">component_url = &quot;[&lt;protocol&gt;://][&lt;host&gt;][:&lt;port&gt;/][&lt;cid&gt;]&quot;</code></pre><p>Where <code>&lt;protocol&gt;</code> is one of <code>ws</code>, <code>wss</code>, <code>tcp</code>, <code>tls</code>, or <code>zmq</code>. <code>&lt;host&gt;</code> and <code>&lt;port&gt;</code> specify the broker&#39;s address, and <code>&lt;cid&gt;</code> is the component&#39;s unique name (optional for anonymous components).</p><p>Example connecting a named component:</p><pre><code class="language-julia hljs">rb = component(&quot;ws://host:8000/my_component&quot;)</code></pre><p>A Component can also act as a Broker:</p><pre><code class="language-julia hljs">pub = component(&quot;ws://host:8000/my_pub&quot;, ws=9000)</code></pre><p>The <code>my_pub</code> component communicates with the broker at <code>host:8000</code> and simultaneously acts as a WebSocket broker on port <code>9000</code> for other components..</p><p><strong>Types of Components:</strong></p><ul><li><strong>Anonymous</strong>: Assumes a random, ephemeral identity on each connection. Useful when message origin tracing isn&#39;t required, for subscribers uninterested in offline messages, and for prototyping.</li><li><strong>Named</strong>: Possesses a unique, persistent name, enabling it to receive messages published while offline.</li><li><strong>Authenticated</strong>: A named component with cryptographic credentials (private key or shared secret) to prove its identity, allowing access to private Pub/Sub topics and RPC methods.</li></ul><h2 id="Server"><a class="docs-heading-anchor" href="#Server">Server</a><a id="Server-1"></a><a class="docs-heading-anchor-permalink" href="#Server" title="Permalink"></a></h2><p>Rembus simplifies the client-server architecture with a dedicated server API for creating components that accept client connections without acting as general-purpose message routers:</p><pre><code class="language-julia hljs">rb = server(ws=9876)</code></pre><p>A server can expose RPC services and subscribe to Pub/Sub topics (typical server roles) but can also publish messages or request RPC services from its connected clients.</p><h2 id="A-Simple-Broker-Script"><a class="docs-heading-anchor" href="#A-Simple-Broker-Script">A Simple Broker Script</a><a id="A-Simple-Broker-Script-1"></a><a class="docs-heading-anchor-permalink" href="#A-Simple-Broker-Script" title="Permalink"></a></h2><pre><code class="language-julia hljs">#!/bin/bash
#=
SDIR=$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )
BINDIR=$( cd -- $SDIR &amp;&gt; /dev/null &amp;&amp; pwd )
exec julia -t auto --color=no -e &quot;include(popfirst!(ARGS))&quot; \
 --project=$BINDIR/.. --startup-file=no &quot;${BASH_SOURCE[0]}&quot; &quot;$@&quot;
=#
using Rembus
Rembus.brokerd()</code></pre><p>This script starts a Rembus broker with a default WebSocket server on port <code>8000</code>. Use command-line arguments (e.g., <code>./broker -t 8001 -z 8002</code>) to enable TCP and ZeroMQ transports.</p><pre><code class="language-text hljs">shell&gt; ./broker
usage: broker [-n NAME] [-x] [-s] [-a] [-p HTTP] [-m PROMETHEUS]
              [-w WS] [-t TCP] [-z ZMQ] [-r POLICY] [-d] [-i] [-h]

optional arguments:
  -n, --name NAME       broker name (default: &quot;broker&quot;)
  -x, --reset           factory reset, clean up broker configuration
  -s, --secure          accept wss and tls connections
  -a, --authenticated   only authenticated components allowed
  -p, --http HTTP       accept HTTP clients on port HTTP (type:
                        UInt16)
  -m, --prometheus PROMETHEUS
                        prometheus exposer port (type: UInt16)
  -w, --ws WS           accept WebSocket clients on port WS (type:
                        UInt16)
  -t, --tcp TCP         accept tcp clients on port TCP (type: UInt16)
  -z, --zmq ZMQ         accept zmq clients on port ZMQ (type: UInt16)
  -r, --policy POLICY   set the broker routing policy: first_up,
                        round_robin, less_busy (default: &quot;first_up&quot;)
  -d, --debug           enable debug logs
  -i, --info            enable info logs
  -h, --help            show this help message and exit</code></pre><p>See <a href="configuration/#Configuration">Configuration</a> for customizing the runtime setting.  </p><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#Rembus.RembusError"><code>Rembus.RembusError</code></a></li><li><a href="#Rembus.RembusTimeout"><code>Rembus.RembusTimeout</code></a></li><li><a href="#Rembus.RpcMethodException"><code>Rembus.RpcMethodException</code></a></li><li><a href="#Rembus.RpcMethodLoopback"><code>Rembus.RpcMethodLoopback</code></a></li><li><a href="#Rembus.RpcMethodNotFound"><code>Rembus.RpcMethodNotFound</code></a></li><li><a href="#Rembus.RpcMethodUnavailable"><code>Rembus.RpcMethodUnavailable</code></a></li><li><a href="#Base.close-Tuple{Rembus.Twin}"><code>Base.close</code></a></li><li><a href="#Base.isopen-Tuple{Rembus.Twin}"><code>Base.isopen</code></a></li><li><a href="#Base.wait-Tuple{Rembus.Twin}"><code>Base.wait</code></a></li><li><a href="#Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.authorize</code></a></li><li><a href="#Rembus.broker"><code>Rembus.broker</code></a></li><li><a href="#Rembus.component-Tuple{AbstractString}"><code>Rembus.component</code></a></li><li><a href="#Rembus.component-Tuple{Vector}"><code>Rembus.component</code></a></li><li><a href="#Rembus.connect-Tuple{AbstractString}"><code>Rembus.connect</code></a></li><li><a href="#Rembus.do_connect-Tuple{Rembus.Twin}"><code>Rembus.do_connect</code></a></li><li><a href="#Rembus.expose-Tuple{Rembus.Twin, AbstractString, Function}"><code>Rembus.expose</code></a></li><li><a href="#Rembus.get_private_topics-Tuple{Rembus.Twin}"><code>Rembus.get_private_topics</code></a></li><li><a href="#Rembus.ifdown_block-Tuple{Rembus.Twin}"><code>Rembus.ifdown_block</code></a></li><li><a href="#Rembus.inject"><code>Rembus.inject</code></a></li><li><a href="#Rembus.isauthenticated-Tuple{Rembus.Twin}"><code>Rembus.isauthenticated</code></a></li><li><a href="#Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.private_topic</code></a></li><li><a href="#Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.public_topic</code></a></li><li><a href="#Rembus.publish-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>Rembus.publish</code></a></li><li><a href="#Rembus.reactive"><code>Rembus.reactive</code></a></li><li><a href="#Rembus.register-Tuple{AbstractString, AbstractString}"><code>Rembus.register</code></a></li><li><a href="#Rembus.request_timeout-Tuple{Rembus.Twin}"><code>Rembus.request_timeout</code></a></li><li><a href="#Rembus.request_timeout!-Tuple{Rembus.Twin, Real}"><code>Rembus.request_timeout!</code></a></li><li><a href="#Rembus.rid-Tuple{Rembus.Twin}"><code>Rembus.rid</code></a></li><li><a href="#Rembus.rpc-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>Rembus.rpc</code></a></li><li><a href="#Rembus.server-Tuple{}"><code>Rembus.server</code></a></li><li><a href="#Rembus.start_broker-Tuple{Any}"><code>Rembus.start_broker</code></a></li><li><a href="#Rembus.subscribe"><code>Rembus.subscribe</code></a></li><li><a href="#Rembus.subscribe"><code>Rembus.subscribe</code></a></li><li><a href="#Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.unauthorize</code></a></li><li><a href="#Rembus.unexpose-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.unexpose</code></a></li><li><a href="#Rembus.unexpose-Tuple{Rembus.Twin, Function}"><code>Rembus.unexpose</code></a></li><li><a href="#Rembus.unreactive-Tuple{Rembus.Twin}"><code>Rembus.unreactive</code></a></li><li><a href="#Rembus.unregister-Tuple{Rembus.Twin}"><code>Rembus.unregister</code></a></li><li><a href="#Rembus.unsubscribe-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.unsubscribe</code></a></li><li><a href="#Rembus.unsubscribe-Tuple{Rembus.Twin, Function}"><code>Rembus.unsubscribe</code></a></li><li><a href="#Visor.shutdown-Tuple{Rembus.Twin}"><code>Visor.shutdown</code></a></li><li><a href="#Rembus.@component-Tuple{Any}"><code>Rembus.@component</code></a></li><li><a href="#Rembus.@expose-Tuple{Expr}"><code>Rembus.@expose</code></a></li><li><a href="#Rembus.@expose-Tuple{Symbol}"><code>Rembus.@expose</code></a></li><li><a href="#Rembus.@inject-Tuple{Any}"><code>Rembus.@inject</code></a></li><li><a href="#Rembus.@publish"><code>Rembus.@publish</code></a></li><li><a href="#Rembus.@reactive"><code>Rembus.@reactive</code></a></li><li><a href="#Rembus.@rpc-Tuple{Any}"><code>Rembus.@rpc</code></a></li><li><a href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a></li><li><a href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a></li><li><a href="#Rembus.@unexpose-Tuple{Any}"><code>Rembus.@unexpose</code></a></li><li><a href="#Rembus.@unreactive-Tuple{}"><code>Rembus.@unreactive</code></a></li><li><a href="#Rembus.@unsubscribe-Tuple{Any}"><code>Rembus.@unsubscribe</code></a></li><li><a href="#Rembus.@wait-Tuple{}"><code>Rembus.@wait</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RembusError" href="#Rembus.RembusError"><code>Rembus.RembusError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RembusError &lt;: Rembus.RembusException</code></pre><p>Generic Rembus error.</p><p><strong>Fields</strong></p><ul><li><p><code>code::UInt8</code>: error code</p></li><li><p><code>topic::Union{Nothing, String}</code>: topic name if available</p></li><li><p><code>reason::Union{Nothing, String}</code>: detailed error message</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L19">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RembusTimeout" href="#Rembus.RembusTimeout"><code>Rembus.RembusTimeout</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RembusTimeout{T} &lt;: Rembus.RembusException</code></pre><p>Exception thrown when a response is not received before the request timeout expires.</p><p><strong>Fields</strong></p><ul><li><code>msg::Any</code>: request message</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L3">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodException" href="#Rembus.RpcMethodException"><code>Rembus.RpcMethodException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RpcMethodException &lt;: Rembus.RembusException</code></pre><p>Thrown when a RPC method throws an exception.</p><p><strong>Fields</strong></p><ul><li><p><code>topic::String</code>: service name</p></li><li><p><code>reason::String</code>: remote exception description</p></li></ul><p><strong>Example</strong></p><p>A component exposes a method that expect a string argument.</p><pre><code class="language-julia hljs">@expose foo(name::AbstractString) = &quot;hello &quot; * name</code></pre><p>A RPC client invoke the method with an integer argument.</p><pre><code class="language-julia hljs">try
    @rpc foo(1)
catch e
    @error e.reason
end</code></pre><p>The result is an exception:</p><pre><code class="nohighlight hljs">┌ Error: MethodError: no method matching foo(::UInt64)
│
│ Closest candidates are:
│   foo(!Matched::AbstractString)
│    @ Main REPL[2]:1
└ @ Main REPL</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodLoopback" href="#Rembus.RpcMethodLoopback"><code>Rembus.RpcMethodLoopback</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RpcMethodLoopback &lt;: Rembus.RembusException</code></pre><p>Thrown when a RPC request would invoke a locally exposed method.</p><p><strong>Fields</strong></p><ul><li><code>topic::String</code>: service name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodNotFound" href="#Rembus.RpcMethodNotFound"><code>Rembus.RpcMethodNotFound</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RpcMethodNotFound &lt;: Rembus.RembusException</code></pre><p>Exception thrown from a rpc request when the called method is unknown.</p><p><strong>Fields</strong></p><ul><li><code>topic::String</code>: service name</li></ul><p><strong>Example</strong></p><p>An RPC Client request a method that does not exist.</p><pre><code class="language-julia hljs">@rpc coolservice()</code></pre><p>The result is an exception:</p><pre><code class="nohighlight hljs">ERROR: Rembus.RpcMethodNotFound(&quot;rembus&quot;, &quot;coolservice&quot;)
Stacktrace:
...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.RpcMethodUnavailable" href="#Rembus.RpcMethodUnavailable"><code>Rembus.RpcMethodUnavailable</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RpcMethodUnavailable &lt;: Rembus.RembusException</code></pre><p>Thrown when a RPC method is unavailable.</p><p>A method is considered unavailable when some component that exposed the method is currently disconnected from the broker.</p><p><strong>Fields</strong></p><ul><li><code>topic::String</code>: service name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L64">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.close-Tuple{Rembus.Twin}" href="#Base.close-Tuple{Rembus.Twin}"><code>Base.close</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">close(rb::Rembus.Twin)
</code></pre><p>Close the connection and terminate the component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/twin.jl#L478">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isopen-Tuple{Rembus.Twin}" href="#Base.isopen-Tuple{Rembus.Twin}"><code>Base.isopen</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isopen(rb::Rembus.Twin) -&gt; Bool
</code></pre><p>Check if the component is connected to the broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L646">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.wait-Tuple{Rembus.Twin}" href="#Base.wait-Tuple{Rembus.Twin}"><code>Base.wait</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">wait(rb::Rembus.Twin)
</code></pre><p>Wait for RPC requests and Pub/Sub messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L658">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}" href="#Rembus.authorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.authorize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function authorize(rb, client::AbstractString, topic::AbstractString)</code></pre><p>Authorize the <code>client</code> component to use the private <code>topic</code>.</p><p>The component must have the admin role for granting topic accessibility.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L555-L561">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.broker" href="#Rembus.broker"><code>Rembus.broker</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">broker(; &lt;keyword arguments&gt;)</code></pre><p>Start a broker node and return a handle for interacting with it.</p><p>The broker acts as a central node to manage routing of RPC requests and Pub/Sub messages between nodes.</p><p>It supports multiple communication protocols (WebSocket, TCP, and ZMQ) and allows for customizable security, authentication, and routing policies.</p><p><strong>Keyword arguments</strong></p><ul><li><p><code>name::AbstractString=&quot;broker&quot;</code>: The unique identifier for the broker supervisor process.</p></li><li><p><code>ws=nothing</code>: The WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</p></li><li><p><code>tcp=nothing</code>: The TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</p></li><li><p><code>zmq=nothing</code>: The ZMQ Router listening port. Set to <code>nothing</code> to disable.</p></li><li><p><code>prometheus=nothing</code>: The Prometheus port for scraping monitoring metrics. Set to <code>nothing</code> to disable.</p></li><li><p><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</p></li><li><p><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</p></li><li><p><code>policy::String=&quot;first_up&quot;</code>: The routing policy used when topics are served by multiple  nodes. Possible options include:</p><ul><li><code>&quot;first_up&quot;</code>: Selects the first connected node from the list of nodes exposing the RPC method.</li><li><code>&quot;round_robin&quot;</code>: Distributes requests evenly across nodes in a round-robin fashion.</li><li><code>&quot;less_busy&quot;</code>: Chooses the node with fewer outstanding requests.</li></ul><p><strong>Default Behavior</strong></p><p>If <code>ws</code>, <code>tcp</code>, and <code>zmq</code> are all set to <code>nothing</code>, the broker will default to listening   for WebSocket connections on port <code>8000</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L7-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.component-Tuple{AbstractString}" href="#Rembus.component-Tuple{AbstractString}"><code>Rembus.component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">component(url::AbstractString; &lt;keyword arguments&gt;)</code></pre><p>Start a component node and return a handle for interacting with it.</p><p>In case of connection lost the underlying supervision logic attempts to reconnect to the broker until it succeed.</p><p>The <code>url</code> argument specifies the connection details for the component. For example, the URL <code>ws://127.0.0.1:8000/foo</code> specifies:</p><ul><li><strong>Protocol</strong>: <code>ws</code> (WebSocket). Other supported protocols: <code>wss</code>, <code>tcp</code>, <code>tls</code>, <code>zmq</code>.</li><li><strong>Address</strong>: <code>127.0.0.1</code> (localhost).</li><li><strong>Port</strong>: <code>8000</code>.</li><li><strong>Component Name</strong>: <code>foo</code>.</li></ul><p>Anonymous connections omit the path part of the URL.</p><p>If not specified, Rembus considers the above values as the default values.</p><p>This means the URL <code>ws://127.0.0.1:8000/foo</code> is equivalent to simply <code>foo</code>.</p><p>Additionally, a component may listen for incoming connections on configured ports, enabling it to act as a broker. These ports are specified using keyword arguments.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>name=missing</code>: Unique string identifier for the component&#39;s supervisor process. Defaults to the path part of the <code>url</code> argument if <code>missing</code>.</li><li><code>ws=nothing</code>: WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</li><li><code>tcp=nothing</code>: TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</li><li><code>zmq=nothing</code>: ZMQ Router listening port. Set to <code>nothing</code> to disable.</li><li><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</li><li><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</li><li><code>policy::String=&quot;first_up&quot;</code>: The routing policy used when topics are served by multiple  nodes. Options:<ul><li><code>&quot;first_up&quot;</code>: Selects the first connected node from the list of nodes exposing the RPC method.</li><li><code>&quot;round_robin&quot;</code>: Distributes requests evenly across nodes in a round-robin fashion.</li><li><code>&quot;less_busy&quot;</code>: Chooses the node with fewer outstanding requests.</li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L95-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.component-Tuple{Vector}" href="#Rembus.component-Tuple{Vector}"><code>Rembus.component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">component(urls::Vector)</code></pre><p>Start a component that connects to a pool of nodes defined by the <code>urls</code> array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/twin.jl#L336-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.connect-Tuple{AbstractString}" href="#Rembus.connect-Tuple{AbstractString}"><code>Rembus.connect</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">connect(url::AbstractString) -&gt; Rembus.Twin
</code></pre><p>Connect to the remote endpoint defined by <code>url</code>.</p><p>A disconnection from the remote endpoint will not trigger automatic reconnection.</p><p><strong>Example</strong></p><p>rb = connect(&quot;ws://127.0.0.1:8000/mycomponent&quot;)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.do_connect-Tuple{Rembus.Twin}" href="#Rembus.do_connect-Tuple{Rembus.Twin}"><code>Rembus.do_connect</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">do_connect(twin::Twin)</code></pre><p>Connect to the endpoint declared with <code>REMBUS_BASE_URL</code> env variable.</p><p><code>REMBUS_BASE_URL</code> default to <code>ws://127.0.0.1:8000</code></p><p>A component is considered anonymous when a different and random UUID is used as component identifier each time the application connect to the broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/twin.jl#L565-L574">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.expose-Tuple{Rembus.Twin, AbstractString, Function}" href="#Rembus.expose-Tuple{Rembus.Twin, AbstractString, Function}"><code>Rembus.expose</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">expose(rb, topic::AbstractString, fn::Function)
expose(rb, fn::Function)</code></pre><p>Expose the methods of function <code>fn</code> to be executed by rpc clients using <code>topic</code> as RPC method name.</p><p>If the <code>topic</code> argument is omitted the function name equals to the RPC method name.</p><p><code>fn</code> returns the RPC response.</p><p>Expose the methods of function <code>fn</code> to be invoked by RPC clients, using <code>topic</code> as the RPC method name.</p><p>If the <code>topic</code> argument is omitted, the function name is used as the RPC method name.</p><p><code>fn</code> is expected to return the RPC response. Any exceptions thrown by <code>fn</code> are caught and returned as an RPC exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L271-L289">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.get_private_topics-Tuple{Rembus.Twin}" href="#Rembus.get_private_topics-Tuple{Rembus.Twin}"><code>Rembus.get_private_topics</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_private_topics(rb)</code></pre><p>Return a dictionary mapping private topics to their lists of authorized components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L603-L607">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.ifdown_block-Tuple{Rembus.Twin}" href="#Rembus.ifdown_block-Tuple{Rembus.Twin}"><code>Rembus.ifdown_block</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ifdown_block(rb::Rembus.Twin)
</code></pre><p>Block <a href="#Rembus.rpc-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>rpc</code></a> and <a href="#Rembus.publish-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>publish</code></a> calls until the twin is connected to the broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L608">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.inject" href="#Rembus.inject"><code>Rembus.inject</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">inject(rb, ctx)</code></pre><p>Bind a <code>ctx</code> context to the <code>rb</code> component.</p><p>When a <code>ctx</code> context is bound, the method signatures of subscribed and exposed functions change as follows:</p><ul><li>the first argument is the <code>ctx</code> context.</li><li>the second argument is the <code>rb</code> component.</li><li>The remaining arguments correspond to the RPC request&#39;s arguments.</li></ul><p>The <code>ctx</code> is useful for maintaining local state contextualized to the <code>rb</code> component.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using Rembus

# keep the number of processed messages
mutable struct Context
    msgcount::UInt
end

function topic(context::Context, rb, arg1, arg2)
    context.msgcount += 1
    some_logic(arg1, arg2)
end

ctx = Context(0)
rb = component(&quot;myname&quot;)
subscribe(rb, topic)
inject(rb, ctx)</code></pre><p>In this example, when a message is published:</p><pre><code class="language-julia hljs">publish(rb, &quot;topic&quot;, arg1, arg2)</code></pre><p>The invoked method will receive the context and component as the first two arguments:</p><pre><code class="language-julia hljs">foo(container, rb, arg2, arg2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L222-L268">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.isauthenticated-Tuple{Rembus.Twin}" href="#Rembus.isauthenticated-Tuple{Rembus.Twin}"><code>Rembus.isauthenticated</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isauthenticated(rb)</code></pre><p>Return true if the component is authenticated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/twin.jl#L866-L870">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.private_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.private_topic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">private_topic(rb, topic::AbstractString)</code></pre><p>Set the specified <code>topic</code> to private.</p><p>The component must have the admin role to change the privacy level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L579-L585">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.public_topic-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.public_topic</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">public_topic(rb, topic::AbstractString)</code></pre><p>Set the specified <code>topic</code> to public.</p><p>The component must have the admin role to change the privacy level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L591-L597">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.publish-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}" href="#Rembus.publish-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>Rembus.publish</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">publish(rb, topic::AbstractString, data...; qos=Rembus.QOS0)</code></pre><p>Publish (<code>Vararg</code>) data values to a specified <code>topic</code>.</p><p>Each item in <code>data</code> is mapped to an argument of the remote method subscribed to the <code>topic</code>.</p><p>The <code>data</code> values can be of any type. However, if the components are implemented in different languages, the values must be either <code>DataFrames</code> or primitive types that are CBOR-encodable (see <a href="https://www.rfc-editor.org/rfc/rfc8949.html">RFC 8949</a>) for interoperability.</p><p>The keywork argument <code>qos</code> defines the quality of service (QoS) for message delivery. Possible values:</p><ul><li><code>Rembus.QOS0</code>: (default): At most one message is delivered to the subscriber (message may be lost).</li><li><code>Rembus.QOS1</code>: At least one message is delivered to the subscriber (message may be duplicated).</li><li><code>Rembus.QOS2</code>: Exactly one message is delivered to the subscriber.</li></ul><p><strong>Examples</strong></p><p>If the subscriber is a method that expects two arguments:</p><pre><code class="language-julia hljs">mytopic(x, y) = ...  # do something with x and y</code></pre><p>You can publish a message with (<code>Vararg</code>) data consisting of two values:</p><pre><code class="nohighlight hljs">rb = component(&quot;myname&quot;)
publish(rb, &quot;mytopic&quot;, 1, 2)</code></pre><p>If the remote subscribed method has no arguments invoke <code>publish</code> as:</p><pre><code class="nohighlight hljs">publish(rb, &quot;mytopic&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L475-L514">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.reactive" href="#Rembus.reactive"><code>Rembus.reactive</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">reactive(rb, from::Union{Real,Period,Dates.CompoundPeriod}=Day(1))</code></pre><p>Enable the reception of published messages for topics to which the node is subscribed via <a href="#Rembus.subscribe"><code>subscribe</code></a>.</p><p>The <code>from</code> argument specifies the starting point in time from which messages published while the component was offline will be delivered upon reconnection.</p><p>This value applies to all subscribed topics but can be overridden by the <code>from</code> argument in the <a href="#Rembus.subscribe"><code>subscribe</code></a> method for a specific topic — though only to define narrower time ranges.</p><p>Possible <code>from</code> values:</p><ul><li><strong><code>Rembus.Now</code></strong>: Equivalent to <code>0.0</code>, ignores old messages, and starts receiving only new messages from now.</li><li><strong><code>Rembus.LastReceived</code></strong>: Receives all messages published since the last disconnection.</li><li><strong><code>n::Float64</code></strong>: Receives messages published within the last <code>n</code> seconds.</li><li><strong><code>Dates.CompoundPeriod</code></strong>: Defines a custom period using a <code>CompoundPeriod</code> value.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">rb = component(&quot;myname&quot;)
subscribe(rb, &quot;mytopic1&quot;, Rembus.Now)
subscribe(rb, &quot;mytopic2&quot;, Rembus.LastReceived)
subscribe(rb, &quot;mytopic3&quot;, Hour(1))

reactive(rb, Day(1))</code></pre><p>In this example:</p><ul><li><code>mytopic1</code> will receive messages starting from now.</li><li><code>mytopic2</code> will receive messages published within the last day, even if <code>subscribe()</code>    uses <code>Rembus.LastReceived</code>.</li><li><code>mytopic3</code> will receive messages published within the last hour.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L403-L440">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.register-Tuple{AbstractString, AbstractString}" href="#Rembus.register-Tuple{AbstractString, AbstractString}"><code>Rembus.register</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">register(
    cid::AbstractString,
    pin::AbstractString;
    scheme::UInt8
)</code></pre><p>Register the component with name <code>cid</code>.</p><p>To register a component a single <code>pin</code> or a set of tenants must be configured in the <code>tenants.json</code> file.</p><p>The <code>pin</code> shared secret is a 8 hex digits string (for example &quot;deedbeef&quot;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/register.jl#L30-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.request_timeout!-Tuple{Rembus.Twin, Real}" href="#Rembus.request_timeout!-Tuple{Rembus.Twin, Real}"><code>Rembus.request_timeout!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">request_timeout!(rb, value::Real)</code></pre><p>Set the request timeout value for the component <code>rb</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L740-L744">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.request_timeout-Tuple{Rembus.Twin}" href="#Rembus.request_timeout-Tuple{Rembus.Twin}"><code>Rembus.request_timeout</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">request_timeout(rb)</code></pre><p>Get the request timeout value for the component <code>rb</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L733-L737">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.rid-Tuple{Rembus.Twin}" href="#Rembus.rid-Tuple{Rembus.Twin}"><code>Rembus.rid</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rid(rb::Rembus.Twin) -&gt; String
</code></pre><p>Return the identifier of the component (<code>R</code>embus <code>ID</code>entifier).</p><pre><code class="language-julia hljs">rb = component(&quot;ws://myhost.org:8000/myname&quot;)
rid(rb) === &quot;myname&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/types.jl#L582">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.rpc-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}" href="#Rembus.rpc-Tuple{Rembus.Twin, AbstractString, Vararg{Any}}"><code>Rembus.rpc</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rpc(rb, service::AbstractString, data...)</code></pre><p>Make a request for a remote <code>service</code> method using Vararg <code>data</code> values as method arguments.</p><p>Return a value or throw an error if a request timeout occurs or the remotely invoked method throws an exception.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">rb = component(&quot;myclient&quot;)
# invoke mysum(1, 2) on the remote site
result = rpc(rb, &quot;mysum&quot;, 1, 2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L521-L535">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.server-Tuple{}" href="#Rembus.server-Tuple{}"><code>Rembus.server</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">server(; &lt;keyword arguments&gt;)</code></pre><p>Start a server node and return a handle for interacting with it.</p><p>The server accepts connection from client nodes.</p><p>It supports multiple communication protocols (WebSocket, TCP, and ZMQ) and allows for customizable security and authentication.</p><p><strong>Keyword arguments</strong></p><ul><li><code>name::AbstractString=&quot;broker&quot;</code>: The unique identifier for the server supervisor process.</li><li><code>ws=nothing</code>: The WebSocket (ws/wss) listening port. Set to <code>nothing</code> to disable.</li><li><code>tcp=nothing</code>: The TCP (tcp/tls) listening port. Set to <code>nothing</code> to disable.</li><li><code>zmq=nothing</code>: The ZMQ Router listening port. Set to <code>nothing</code> to disable.</li><li><code>prometheus=nothing</code>: The Prometheus port for scraping monitoring metrics. Set to <code>nothing</code> to disable.</li><li><code>secure=false</code>: If <code>true</code>, enables WSS (WebSocket Secure) and TLS (Transport Layer Security) protocols for encrypted connections.</li><li><code>authenticated=false</code>: If <code>true</code>, only allows connections from named and authenticated  nodes.</li></ul><p><strong>Default Behavior</strong></p><p>If <code>ws</code>, <code>tcp</code>, and <code>zmq</code> are all set to <code>nothing</code>, the broker will default to listening for WebSocket connections on port <code>8000</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L42-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.start_broker-Tuple{Any}" href="#Rembus.start_broker-Tuple{Any}"><code>Rembus.start_broker</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">start_broker(;
    wait=true,
    secure=nothing,
    ws=nothing,
    tcp=nothing,
    zmq=nothing,
    http=nothing,
    prometheus=nothing,
    name=&quot;broker&quot;,
    authenticated=false,
    reset=nothing,
    plugin=nothing,
    context=nothing
)</code></pre><p>Start the node.</p><p>Return immediately when <code>wait</code> is false, otherwise blocks until shutdown is requested.</p><p>Overwrite command line arguments if args is not empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/broker.jl#L770-L791">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.subscribe" href="#Rembus.subscribe"><code>Rembus.subscribe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subscribe(rb, fn::Function, from=Rembus.Now)</code></pre><p>Subscribe to messages published to a <code>topic</code> and register a callback function <code>fn</code> to handle incoming messages.</p><p>If the <code>topic</code> argument is omitted, the function name must be equal to the topic name.</p><p>The <code>from</code> (default=<code>Rembus.Now</code>) argument defines the starting point in time from which messages published while the component was offline will be sent upon reconnection. Possible <code>from</code> values:</p><ul><li><strong><code>Rembus.Now</code></strong>: Equivalent to <code>0.0</code>, ignores old messages, and starts receiving only new messages from now.</li><li><strong><code>Rembus.LastReceived</code></strong>: Receives all messages published since the last disconnection.</li><li><strong><code>n::Float64</code></strong>: Receives messages published within the last <code>n</code> seconds.</li><li><strong><code>Dates.CompoundPeriod</code></strong>: Defines a custom period using a <code>CompoundPeriod</code> value.</li></ul><p>To enable the reception of published messages, the <code>reactive</code> function must be called.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">rb = component(&quot;myname&quot;)

# Define a callback function for the &quot;mytopic&quot; topic
function mytopic(data)
    println(&quot;Received: &quot;, data)
end

# Subscribe to &quot;mytopic&quot;, receiving only new messages from now
subscribe(rb, mytopic, from=Rembus.Now)
reactive(rb)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L341-L374">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.subscribe" href="#Rembus.subscribe"><code>Rembus.subscribe</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subscribe(rb, topic::AbstractString, fn::Function, from=Rembus.Now)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L318-L320">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}" href="#Rembus.unauthorize-Tuple{Rembus.Twin, AbstractString, AbstractString}"><code>Rembus.unauthorize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">function unauthorize(rb, client::AbstractString, topic::AbstractString)</code></pre><p>Revoke authorization to the <code>client</code> component for use of the private <code>topic</code>.</p><p>The component must have the admin role for revoking topic accessibility.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L567-L573">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unexpose-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.unexpose-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.unexpose</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unexpose(rb, service::AbstractString)</code></pre><p>Stop servicing RPC requests targeting <code>service</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L299-L303">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unexpose-Tuple{Rembus.Twin, Function}" href="#Rembus.unexpose-Tuple{Rembus.Twin, Function}"><code>Rembus.unexpose</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unexpose(rb, fn::Function)</code></pre><p>Stop servicing RPC requests targeting <code>fn</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L311-L315">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unreactive-Tuple{Rembus.Twin}" href="#Rembus.unreactive-Tuple{Rembus.Twin}"><code>Rembus.unreactive</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unreactive(rb)</code></pre><p>Stops the delivery of published messages to the <code>rb</code> component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L457-L461">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unregister-Tuple{Rembus.Twin}" href="#Rembus.unregister-Tuple{Rembus.Twin}"><code>Rembus.unregister</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unregister(twin)</code></pre><p>Unregister the connected component.</p><p>Only a connected and authenticated component may execute the unregister command.</p><pre><code class="nohighlight hljs">using Rembus

twin = connect(&quot;authenticated_component&quot;)
Rembus.unregister(twin)
close(twin)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/register.jl#L85-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unsubscribe-Tuple{Rembus.Twin, AbstractString}" href="#Rembus.unsubscribe-Tuple{Rembus.Twin, AbstractString}"><code>Rembus.unsubscribe</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unsubscribe(rb, topic::AbstractString)</code></pre><p>Stops delivering messages published on the specified <code>topic</code> to the <code>rb</code> component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L383-L387">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.unsubscribe-Tuple{Rembus.Twin, Function}" href="#Rembus.unsubscribe-Tuple{Rembus.Twin, Function}"><code>Rembus.unsubscribe</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unsubscribe(rb, fn::Function)</code></pre><p>Stops delivering messages to the specified <code>fn</code> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L396-L400">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Visor.shutdown-Tuple{Rembus.Twin}" href="#Visor.shutdown-Tuple{Rembus.Twin}"><code>Visor.shutdown</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">shutdown(rb::Rembus.Twin)
</code></pre><p>Close the connection and terminate the component.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/twin.jl#L467">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@component-Tuple{Any}" href="#Rembus.@component-Tuple{Any}"><code>Rembus.@component</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@component &quot;url&quot;</code></pre><p>Set the name of the component and the protocol for connecting to the broker.</p><p><code>url</code> may be:</p><ul><li>&quot;myname&quot;: use <span>$</span>REMBUS_BASE_URL for connection parameters</li><li>&quot;tcp://host:port/myname&quot;: tcp connection</li><li>&quot;ws://host:port/myname&quot;: web socket connection</li><li>&quot;zmq://host:port/myname&quot;: ZeroMQ connection</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L1052-L1063">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@expose-Tuple{Expr}" href="#Rembus.@expose-Tuple{Expr}"><code>Rembus.@expose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@expose function fn(arg1,...)
    ...
end</code></pre><p>Expose the function expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L911-L917">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@expose-Tuple{Symbol}" href="#Rembus.@expose-Tuple{Symbol}"><code>Rembus.@expose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@expose fn</code></pre><p>Expose all the methods of the function <code>fn</code>.</p><p><strong>Example</strong></p><p>Expose the function <code>mycalc</code> that implements a service that may accept two numbers or a string and number:</p><pre><code class="language-julia hljs">mycalc(x::Number, y::Number) = x+y
mycalc(x::String, y::Number) = length(x)*y

@expose mycalc</code></pre><p>Call <code>mycal</code> service using the correct types of arguments:</p><pre><code class="language-julia hljs"># ok
julia&gt; response = @rpc mycalc(1,2)
0x0000000000000003

# ok
julia&gt; response = @rpc mycalc(&quot;hello&quot;,2.0)
10.0</code></pre><p>If the RPC client call <code>mycalc</code> with the argument&#39;s type that do not respect the signatures of the exposed service then it throws <a href="#Rembus.RpcMethodException"><code>RpcMethodException</code></a></p><pre><code class="language-julia hljs">julia&gt; response = @rpc mycalc(&quot;hello&quot;,&quot;world&quot;)
ERROR: RpcMethodException(&quot;rembus&quot;, &quot;mycalc&quot;, &quot;MethodError: no method matching mycalc(::String, ::String) ...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L865-L901">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@inject-Tuple{Any}" href="#Rembus.@inject-Tuple{Any}"><code>Rembus.@inject</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> @inject container</code></pre><p>Binds a <code>container</code> object, which is passed as the first argument to subscribed component functions.</p><p>See <a href="#Rembus.inject"><code>inject</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L1035-L1042">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@publish" href="#Rembus.@publish"><code>Rembus.@publish</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@publish topic(arg1,arg2,...)</code></pre><p>Publish a message to <code>topic</code> logic channel.</p><p>The function <code>topic(arg1,arg2,...)</code> will be called on each connected component subscribed to <code>topic</code>.</p><p><strong>Publisher</strong></p><pre><code class="language-julia hljs">@publish foo(&quot;gfr&quot;, 54.2)</code></pre><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function foo(name, value)
    println(&quot;do something with $name=$value&quot;)
end

@subscribe foo
@reactive

supervise()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L751-L775">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@reactive" href="#Rembus.@reactive"><code>Rembus.@reactive</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@reactive</code></pre><p>The subscribed methods start to handle published messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L1008-L1012">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@rpc-Tuple{Any}" href="#Rembus.@rpc-Tuple{Any}"><code>Rembus.@rpc</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@rpc service(arg1,...)</code></pre><p>Call the remote <code>service</code> method and return its outcome.</p><p>The outcome may be the a return value or a <a href="#Rembus.RpcMethodException"><code>RpcMethodException</code></a> if the remote throws an exception.</p><p>The <code>service</code> method must match the signature of an exposed remote <code>service</code> method.</p><p>Components may subscribe to <code>service</code> for receiving the <code>service</code> request.</p><p><strong>Exposer</strong></p><pre><code class="language-julia hljs">function mymethod(x, y)
    return evaluate(x,y)
end

@expose mymethod
supervise()</code></pre><p><strong>RPC client</strong></p><pre><code class="language-julia hljs">response = @rpc mymethod(x,y)</code></pre><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function service(x, y)
    ...
end

@subscribe service
@reactive

supervise()
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L793-L832">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@subscribe" href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@subscribe topic [mode]</code></pre><p>Setup a subscription to <code>topic</code> logic channel to handle messages from <a href="#Rembus.@publish"><code>@publish</code></a> or <a href="#Rembus.@rpc-Tuple{Any}"><code>@rpc</code></a>.</p><p><code>mode</code> values`:</p><ul><li><code>from_now</code> (default): receive messages published from now.</li><li><code>before_now</code>: receive messages published when the component was offline.</li></ul><p>Messages starts to be delivered to <code>topic</code> when reactivity is enabled with <code>@reactive</code> macro.</p><p><strong>Subscriber</strong></p><pre><code class="language-julia hljs">function foo(arg1, arg2)
    ...
end

@subscribe foo
@reactive

supervise()</code></pre><p><strong>Publisher</strong></p><pre><code class="language-julia hljs">@publish foo(&quot;gfr&quot;, 54.2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L941-L970">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@subscribe" href="#Rembus.@subscribe"><code>Rembus.@subscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@subscribe function fn(args...)
    ...
end [mode]</code></pre><p>Subscribe the function expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L978-L984">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unexpose-Tuple{Any}" href="#Rembus.@unexpose-Tuple{Any}"><code>Rembus.@unexpose</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unexpose fn</code></pre><p>The methods of <code>fn</code> function is no more available to rpc clients.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L927-L931">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unreactive-Tuple{}" href="#Rembus.@unreactive-Tuple{}"><code>Rembus.@unreactive</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unreactive</code></pre><p>The subscribed methods stop to handle published messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L1022-L1026">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@unsubscribe-Tuple{Any}" href="#Rembus.@unsubscribe-Tuple{Any}"><code>Rembus.@unsubscribe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@unsubscribe mytopic</code></pre><p><code>mytopic</code>&#39;s methods stop to handle messages published to topic <code>mytopic</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L994-L998">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Rembus.@wait-Tuple{}" href="#Rembus.@wait-Tuple{}"><code>Rembus.@wait</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@wait</code></pre><p>Block forever waiting for Ctrl-C/InterruptException or root supervisor shutdown.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cardo-org/Rembus.jl/blob/704dd1ebd44bae349868a8ea1a4c59c1d7c030c9/src/api.jl#L1072-L1076">source</a></section></article><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">Component API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Wednesday 13 August 2025 06:28">Wednesday 13 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
